\hypertarget{class_async_serial_port1}{\section{\-Async\-Serial\-Port1 \-Class \-Reference}
\label{class_async_serial_port1}\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}}
}


\-Singleton of the asynchronous port 1.  




{\ttfamily \#include $<$\-Async\-Serial\-Port1.\-h$>$}

\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} \hyperlink{class_async_serial_port1_a3f62abb242f09bb35524d31996c88320}{usart\-Init} (\hyperlink{_serial_type_8h_ac47b2bd906d2c843b97ecae6c1eea710}{\-Parity} i\-Parity\-Conf, \hyperlink{_serial_type_8h_a2e4c31ec0a94db405865b7c241717fbe}{\-Stop\-Bits} i\-Stop\-Bit\-Conf, \hyperlink{_serial_type_8h_a11275f46707b20c44d7b07eb6ca04baf}{\-Data\-Bits} i\-Data\-Length\-Conf, \hyperlink{_serial_type_8h_a0ed0ee4a49d7dcf4109ba39a3ca1a8b7}{\-Hw\-Flow\-Ctrl} i\-Hw\-Flow\-Ctrl, \hyperlink{_serial_type_8h_a30da35a35e2d0882c738f6f991905df7}{\-Link\-Mode} i\-Link\-Mode, \hyperlink{_serial_type_8h_a7654bd82719bfde1c792d7828664dde2}{\-Baud\-Rate} i\-Baud\-Rate\-Conf, uint8\-\_\-t i\-Preemp\-Priority, uint8\-\_\-t i\-Sub\-Priority, \hyperlink{_serial_type_8h_ad8005790f3b92862aa09c52f14f58e24}{\-Interrupt\-Setting} i\-Interrupt\-Setting)
\begin{DoxyCompactList}\small\item\em \-This method initialize the port according to the desired settings. \end{DoxyCompactList}\item 
\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} \hyperlink{class_async_serial_port1_ae5c7825b0eb62d17f937e1db43bd72ab}{get\-Current\-Status} (void)
\begin{DoxyCompactList}\small\item\em \-This method enable the user to interrogate the port for its current status. \end{DoxyCompactList}\item 
\hypertarget{class_async_serial_port1_ad62d4d10e37dc483addf7df23f3cd4dc}{void \hyperlink{class_async_serial_port1_ad62d4d10e37dc483addf7df23f3cd4dc}{set\-Current\-Status} (\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} i\-Status)}\label{class_async_serial_port1_ad62d4d10e37dc483addf7df23f3cd4dc}

\begin{DoxyCompactList}\small\item\em $\ast$$\ast$$\ast$\-This method is \-U\-S\-E\-D \-O\-N\-L\-Y \-B\-Y \-T\-H\-E \-I\-N\-T\-E\-R\-R\-U\-P\-T \-H\-A\-N\-D\-L\-E\-R$\ast$$\ast$$\ast$ \end{DoxyCompactList}\item 
\hypertarget{class_async_serial_port1_a826613a7951299d92cda2a7dac338636}{\-C\-Queue \& \hyperlink{class_async_serial_port1_a826613a7951299d92cda2a7dac338636}{get\-Out\-Stream} (void)}\label{class_async_serial_port1_a826613a7951299d92cda2a7dac338636}

\begin{DoxyCompactList}\small\item\em $\ast$$\ast$$\ast$\-This method is \-U\-S\-E\-D \-O\-N\-L\-Y \-B\-Y \-T\-H\-E \-I\-N\-T\-E\-R\-R\-U\-P\-T \-H\-A\-N\-D\-L\-E\-R$\ast$$\ast$$\ast$ \end{DoxyCompactList}\item 
\hypertarget{class_async_serial_port1_aca8bcbacddd2d46ca9460c3d9b232752}{\-C\-Queue \& \hyperlink{class_async_serial_port1_aca8bcbacddd2d46ca9460c3d9b232752}{get\-In\-Stream} (void)}\label{class_async_serial_port1_aca8bcbacddd2d46ca9460c3d9b232752}

\begin{DoxyCompactList}\small\item\em $\ast$$\ast$$\ast$\-This method is \-U\-S\-E\-D \-O\-N\-L\-Y \-B\-Y \-T\-H\-E \-I\-N\-T\-E\-R\-R\-U\-P\-T \-H\-A\-N\-D\-L\-E\-R$\ast$$\ast$$\ast$ \end{DoxyCompactList}\item 
\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} \hyperlink{class_async_serial_port1_abf7bce398cb06b5368f7a617bcbdf857}{get\-Char} (const int8\-\_\-t $\ast$o\-Character, port\-Tick\-Type i\-Block\-Time)
\begin{DoxyCompactList}\small\item\em \-This method enables to read the received data on the port. \end{DoxyCompactList}\item 
\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} \hyperlink{class_async_serial_port1_a414bdbd17f686e2a31f8109d4492b595}{put\-Char} (const int8\-\_\-t i\-Character, port\-Tick\-Type i\-Block\-Time)
\begin{DoxyCompactList}\small\item\em \-This method enables to write data on the port. \end{DoxyCompactList}\item 
\hyperlink{_serial_type_8h_a71c113451bfafdaf5fcabcd807acd480}{\-Serial\-Status} \hyperlink{class_async_serial_port1_a1f8e0292a566d5a16e993202a6ea9d1b}{put\-String} (const int8\-\_\-t $\ast$const i\-String, uint32\-\_\-t $\ast$o\-Nb\-Char\-Sent)
\begin{DoxyCompactList}\small\item\em \-This method enables to write data on the port. \end{DoxyCompactList}\item 
port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E \hyperlink{class_async_serial_port1_a2be5dc99ca1c1edd5153a96f3336e6e8}{take\-Mutex} (port\-Tick\-Type i\-Block\-Time)
\begin{DoxyCompactList}\small\item\em \-This method enables to take the mutex of the port. \end{DoxyCompactList}\item 
port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E \hyperlink{class_async_serial_port1_a38c06002c0fb8fbd5b1eb8ea4ef6a69c}{give\-Mutex} (void)
\begin{DoxyCompactList}\small\item\em \-This method enables to give the mutex of the port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_async_serial_port1}{\-Async\-Serial\-Port1} $\ast$ \hyperlink{class_async_serial_port1_a1c767b7bdd824c5b3fd4cdaa3dfc2081}{get\-Instance} (void)
\begin{DoxyCompactList}\small\item\em \-This method give access to the port by returning its handle. \end{DoxyCompactList}\item 
static void \hyperlink{class_async_serial_port1_a2dd7f83163710334d2dc5be1e53812be}{close\-Port} (void)
\begin{DoxyCompactList}\small\item\em \-This method close the port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_async_serial_port1}{\-Async\-Serial\-Port1} $\ast$ \hyperlink{class_async_serial_port1_a9661343083970644038cc10ba8e3d0a5}{port\-Handle}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Singleton of the asynchronous port 1. 

\-This class is the second level driver of the serial port 1 in asynchronous mode. \-It uses the \-C\-Queue framework of the \-Free\-R\-T\-O\-S and \-Free\-R\-T\-O\-S \-C++ wrapper as \-Rx/\-Tx buffers. \-It uses the \-C\-Mutex framework of the \-Free\-R\-T\-O\-S and \-Free\-R\-T\-O\-S \-C++ wrapper to ensures that the port will not be used by more than one task at the time.

\begin{DoxyDate}{\-Date}
\-May 1, 2013 
\end{DoxyDate}
\begin{DoxyAuthor}{\-Author}
julien 
\end{DoxyAuthor}


\subsection{\-Member \-Function \-Documentation}
\hypertarget{class_async_serial_port1_a2dd7f83163710334d2dc5be1e53812be}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!close\-Port@{close\-Port}}
\index{close\-Port@{close\-Port}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{close\-Port}]{\setlength{\rightskip}{0pt plus 5cm}static void {\bf \-Async\-Serial\-Port1\-::close\-Port} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{class_async_serial_port1_a2dd7f83163710334d2dc5be1e53812be}


\-This method close the port. 

\-Closing the port will delete it and all its resources. \hypertarget{class_async_serial_port1_abf7bce398cb06b5368f7a617bcbdf857}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!get\-Char@{get\-Char}}
\index{get\-Char@{get\-Char}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{get\-Char}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Serial\-Status} {\bf \-Async\-Serial\-Port1\-::get\-Char} (
\begin{DoxyParamCaption}
\item[{const int8\-\_\-t $\ast$}]{o\-Character, }
\item[{port\-Tick\-Type}]{i\-Block\-Time}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_abf7bce398cb06b5368f7a617bcbdf857}


\-This method enables to read the received data on the port. 

\-The reading is made one character at the time.


\begin{DoxyParams}{\-Parameters}
{\em o\-Character} & \-The pointer of the buffer used to read the received character (return of the received character). \\
\hline
{\em i\-Block\-Time} & \-The time the \-Rx buffer of the port will block tasks if it is empty.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-The current status of the port. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_ae5c7825b0eb62d17f937e1db43bd72ab}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!get\-Current\-Status@{get\-Current\-Status}}
\index{get\-Current\-Status@{get\-Current\-Status}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{get\-Current\-Status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Serial\-Status} {\bf \-Async\-Serial\-Port1\-::get\-Current\-Status} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_ae5c7825b0eb62d17f937e1db43bd72ab}


\-This method enable the user to interrogate the port for its current status. 

\begin{DoxyReturn}{\-Returns}
\-The port current status. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a1c767b7bdd824c5b3fd4cdaa3dfc2081}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!get\-Instance@{get\-Instance}}
\index{get\-Instance@{get\-Instance}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{get\-Instance}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf \-Async\-Serial\-Port1}$\ast$ {\bf \-Async\-Serial\-Port1\-::get\-Instance} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{class_async_serial_port1_a1c767b7bdd824c5b3fd4cdaa3dfc2081}


\-This method give access to the port by returning its handle. 

\-If the port is not already created, this method creates it. \-At the port creation, the port is not initialized. \-So it is a good practice to verify its status after getting its instance.

\begin{DoxyReturn}{\-Returns}
\-The port handle. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a38c06002c0fb8fbd5b1eb8ea4ef6a69c}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!give\-Mutex@{give\-Mutex}}
\index{give\-Mutex@{give\-Mutex}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{give\-Mutex}]{\setlength{\rightskip}{0pt plus 5cm}port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E {\bf \-Async\-Serial\-Port1\-::give\-Mutex} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_a38c06002c0fb8fbd5b1eb8ea4ef6a69c}


\-This method enables to give the mutex of the port. 

\begin{DoxyReturn}{\-Returns}
1 if the mutex was given, 0 otherwise. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a414bdbd17f686e2a31f8109d4492b595}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!put\-Char@{put\-Char}}
\index{put\-Char@{put\-Char}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{put\-Char}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Serial\-Status} {\bf \-Async\-Serial\-Port1\-::put\-Char} (
\begin{DoxyParamCaption}
\item[{const int8\-\_\-t}]{i\-Character, }
\item[{port\-Tick\-Type}]{i\-Block\-Time}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_a414bdbd17f686e2a31f8109d4492b595}


\-This method enables to write data on the port. 

\-The writing is made one character at the time.


\begin{DoxyParams}{\-Parameters}
{\em i\-Character} & \-The character to write on the port. \\
\hline
{\em i\-Block\-Time} & \-The time the \-Tx buffer of the port will block tasks if it is full.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-The current status of the port. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a1f8e0292a566d5a16e993202a6ea9d1b}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!put\-String@{put\-String}}
\index{put\-String@{put\-String}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{put\-String}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Serial\-Status} {\bf \-Async\-Serial\-Port1\-::put\-String} (
\begin{DoxyParamCaption}
\item[{const int8\-\_\-t $\ast$const}]{i\-String, }
\item[{uint32\-\_\-t $\ast$}]{o\-Nb\-Char\-Sent}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_a1f8e0292a566d5a16e993202a6ea9d1b}


\-This method enables to write data on the port. 

\-The writing is made one string at the time.


\begin{DoxyParams}{\-Parameters}
{\em i\-String} & \-The pointer of the beginning of the string to write. \\
\hline
{\em o\-Nb\-Char\-Sent} & \-The pointer of the variable used to store the number of characters written in case the \-Tx buffer fills up before the end of the string (return the number of characters sent).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-The current status of the port. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a2be5dc99ca1c1edd5153a96f3336e6e8}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!take\-Mutex@{take\-Mutex}}
\index{take\-Mutex@{take\-Mutex}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{take\-Mutex}]{\setlength{\rightskip}{0pt plus 5cm}port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E {\bf \-Async\-Serial\-Port1\-::take\-Mutex} (
\begin{DoxyParamCaption}
\item[{port\-Tick\-Type}]{i\-Block\-Time}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_a2be5dc99ca1c1edd5153a96f3336e6e8}


\-This method enables to take the mutex of the port. 


\begin{DoxyParams}{\-Parameters}
{\em i\-Block\-Time} & \-The time the port will block tasks until the mutex is freed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
1 if the mutex was taken, 0 otherwise. 
\end{DoxyReturn}
\hypertarget{class_async_serial_port1_a3f62abb242f09bb35524d31996c88320}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!usart\-Init@{usart\-Init}}
\index{usart\-Init@{usart\-Init}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{usart\-Init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Serial\-Status} {\bf \-Async\-Serial\-Port1\-::usart\-Init} (
\begin{DoxyParamCaption}
\item[{{\bf \-Parity}}]{i\-Parity\-Conf, }
\item[{{\bf \-Stop\-Bits}}]{i\-Stop\-Bit\-Conf, }
\item[{{\bf \-Data\-Bits}}]{i\-Data\-Length\-Conf, }
\item[{{\bf \-Hw\-Flow\-Ctrl}}]{i\-Hw\-Flow\-Ctrl, }
\item[{{\bf \-Link\-Mode}}]{i\-Link\-Mode, }
\item[{{\bf \-Baud\-Rate}}]{i\-Baud\-Rate\-Conf, }
\item[{uint8\-\_\-t}]{i\-Preemp\-Priority, }
\item[{uint8\-\_\-t}]{i\-Sub\-Priority, }
\item[{{\bf \-Interrupt\-Setting}}]{i\-Interrupt\-Setting}
\end{DoxyParamCaption}
)}}\label{class_async_serial_port1_a3f62abb242f09bb35524d31996c88320}


\-This method initialize the port according to the desired settings. 


\begin{DoxyParams}{\-Parameters}
{\em i\-Parity\-Conf} & \-The parity configuration of the port. \\
\hline
{\em i\-Stop\-Bit\-Conf} & \-The stop bit configuration of the port. \\
\hline
{\em i\-Data\-Length\-Conf} & \-The length of the word used by the port. \\
\hline
{\em i\-Hw\-Flow\-Ctrl} & \-The hardware flow control configuration of the port. \\
\hline
{\em i\-Link\-Mode} & \-The type of link of the port. \\
\hline
{\em i\-Baud\-Rate\-Conf} & \-The baud rate of the port. \\
\hline
{\em i\-Preemp\-Priority} & \-The preemptive priority of the port. \\
\hline
{\em i\-Sub\-Priority} & \-The sub-\/priority of the port. \\
\hline
{\em i\-Interrupt\-Setting} & \-If the interrupt should be enabled or disabled. \\
\hline
\end{DoxyParams}


\subsection{\-Member \-Data \-Documentation}
\hypertarget{class_async_serial_port1_a9661343083970644038cc10ba8e3d0a5}{\index{\-Async\-Serial\-Port1@{\-Async\-Serial\-Port1}!port\-Handle@{port\-Handle}}
\index{port\-Handle@{port\-Handle}!AsyncSerialPort1@{\-Async\-Serial\-Port1}}
\subsubsection[{port\-Handle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Async\-Serial\-Port1}$\ast$ {\bf \-Async\-Serial\-Port1\-::port\-Handle}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{class_async_serial_port1_a9661343083970644038cc10ba8e3d0a5}
\-Handle of the port. 

\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{_async_serial_port1_8h}{\-Async\-Serial\-Port1.\-h}\end{DoxyCompactItemize}
